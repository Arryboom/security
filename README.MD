
### このリポジトリは何ですか？
このリポジトリは、書籍Windows Internals(日本語訳Inside Windows)をコードレベルで理解することを目指したプロジェクトです。
Windows Internalsに記載されている内容をコーディングを通じて証明することで、同書籍の圧倒的な理解が深まり、
それはWindows OSそのものへの理解にもつながります。

### 何故プロジェクトを発足させたか
Windows Internalsは、Windows OSを最も深く掘り下げた書籍です。
しかし、その掘り下げる内容が高度かつ難解であるが故に、ほとんど内容が理解されていない現状があります。
「Windows OSを理解するための敷居を下げることはできないか」、「Windowsの内部技術を分かりやすく伝えることはできないか」
そうした思いでこのプロジェクトを発足させました。

### セキュリティの章を選んだ理由
Windows Internalsが解説する範囲は膨大であり、どの箇所から解析するかをまず決めなければなりませんでした。
上巻は全7章で構成されますが、このうちの第7章(セキュリティの章)が最も平易かつユーザーモード寄りなので、
第7章から解析しました。

### 使用技術
Windows InternalsはWindows OSを解き明かす書籍ですから、同書に記述される内容は当然ながらシステム寄りになります。
このため、必然的にソースコードはネイティブコードで記述することになり、C++とWin32 APIを使用した設計になります。
STLなどの便利な外部ライブラリは一切使用しません。
効率が悪いようにも思えますが、Windows SDKのサンプルがそうであるため、それに倣っています。

### 全てのコードを自動化に対応させる
いくらWindows Internalsを証明するコードを記述しても、
それらを手動でビルドして実行するのは、あまりにも手間がかかります。
このため、全てのプロジェクトは、ユーザー入力を伴わないコンソールアプリケーションとして設計され、
戻り値は成功を示す0か、失敗を示す-1を返します。
auto_buildは、全てのプロジェクトをビルドします。auto_execは全てのプロジェクトを実行します。

### 必要な前提知識は何ですか？

### 日本語と英語


### 最後に



-------------------------------------------------------


### このリポジトリは何ですか？
このリポジトリはWindowsの内部構造を解析したInside Windowsの解説記事です。
Inside Windowsの内容はとても難解であり、書籍に含まれている実習だでは十分に理解することができないほどです。
この記事では、著者が作成した簡易のソースコードを掲載することで、Inside Windowsに書かれている内容が正しいかを証明します。
文章では理解できなくても、ソースコードならば理解できることは多く、実感につながります。

### ソースコードは自動で実行できなければならない
Inside Windowsに書かれている内容をソースコードを通じて理解するといっても、
大量のソースコードを1つずつコンパイルして実行していくことは時間がかかります。
そのため、このリポジトリの全てのソースコードは、ユーザー入力を伴わない設計にしており、
プログラムの終了コードは0(成功)か-1(失敗)です。
-1を返したプログラムがあれば、そのプログラムはInside Windowsに書かれている内容を証明できていないことを意味します。

### 私がするべきことは何ですか？
Visual Studioをインストールしてください。
バージョンがCommunity 2019でない場合は、auto_build.cppの以下の関数を変更してください。

void GetMSBuildPath(LPWSTR lpszPath, DWORD dwSize)
{
}

ソースコードの自動コンパイルにはをMSBuild.exeを使用しているため、
この関数で適切なファイルパスを設定する必要があります。

auto_buildプロジェクトを実行すれば、全てのソースコードをビルドできます。
さらにauto_execプロジェクトを実行すれば、全てのプログラムの実行結果がコンソールに出力されます。